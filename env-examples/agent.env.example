# ==================================================
# agent.env.example
# Copy to ~/.unsaltedbutter/agent.env
# Loaded after shared.env (overrides shared values if needed)
# Runs on: Mac Mini
# ==================================================

# Port this agent listens on for job dispatch from orchestrator
AGENT_PORT=8421

# Path to encryption key (same key as VPS, copied securely)
ENCRYPTION_KEY_PATH=/etc/unsaltedbutter/encryption.keyfile

# Chrome binary path (macOS)
CHROME_PATH=/Applications/Google Chrome.app/Contents/MacOS/Google Chrome

# Operating window (EST timezone)
WINDOW_START_HOUR=6
WINDOW_END_HOUR=20

# Screenshot temp directory (cleaned after each action)
SCREENSHOT_DIR=/tmp/ub-screenshots

# Orchestrator callback URL (LAN address)
ORCHESTRATOR_URL=http://192.168.1.101:8422

# Behavior profile: normal, cautious, fast
AGENT_PROFILE=normal

# Bind address for agent HTTP server
AGENT_HOST=0.0.0.0

# Max concurrent jobs (GUI actions serialized via lock, everything else parallel)
# 3 saturates a single Mac Studio's VLM throughput for OTP-heavy workloads.
# Beyond 3: zero throughput gain unless VLM capacity is added.
MAX_CONCURRENT_AGENT_JOBS=3

# --- VLM (OpenAI-compatible /chat/completions endpoint) ---
# Used for both recording (learn mode) and production inference (VLMExecutor).
# Include /v1 in the URL for OpenAI-compatible APIs that require it.
# Examples: https://api.ppq.ai/v1, http://192.168.1.XXX:8080 (local mlx_vlm)
VLM_URL=
VLM_KEY=
VLM_MODEL=qwen3-vl-32b

# Max pixel width for screenshots sent to VLM. Lower = fewer visual tokens = faster.
# 960 is a good default (675 tokens vs 1200 at 1280px for 1280x800 screenshots).
VLM_MAX_WIDTH=960
# Set to true if model returns 0-1000 normalized coords (e.g. Qwen-VL family).
VLM_COORD_NORMALIZE=false
# Set to true if model returns coords in [y, x] order (e.g. Qwen3-VL-8B).
VLM_COORD_YX=false
